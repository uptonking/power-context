# Minimal image to run the Qdrant MCP server with SSE transport
FROM python:3.11-slim

ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1

# Install/upgrade the MCP server package (and FastMCP) to ensure protocol compatibility
RUN pip install --no-cache-dir --upgrade mcp-server-qdrant fastmcp

# Expose SSE port
EXPOSE 8000

# Default command: run the server with SSE transport (env provides host/port)
CMD ["python", "/work/scripts/mcp_memory_server.py"]

