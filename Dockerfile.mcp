# Minimal image to run the Qdrant MCP server with SSE transport
FROM python:3.11-slim

ENV PYTHONDONTWRITEBYTECODE=1 \
    PYTHONUNBUFFERED=1

# Install FastMCP + Qdrant client + FastEmbed for embeddings
RUN pip install --no-cache-dir --upgrade fastmcp==2.12.4 qdrant-client fastembed

# Expose SSE port
EXPOSE 8000

# Default command: run the server with SSE transport (env provides host/port)
CMD ["python", "/work/scripts/mcp_memory_server.py"]

