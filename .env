# Environment for local Qdrant + MCP server (SSE)
# Qdrant (vector DB) runs as docker service "qdrant". The MCP server connects to it internally.
QDRANT_URL=http://qdrant:6333
# QDRANT_API_KEY= # not needed for local

# Default collection used by the MCP server (auto-created if missing)
COLLECTION_NAME=my-collection

# Embedding settings (FastEmbed model)
EMBEDDING_MODEL=BAAI/bge-base-en-v1.5
EMBEDDING_PROVIDER=fastembed

# FastMCP server settings (SSE transport)
FASTMCP_HOST=0.0.0.0
FASTMCP_PORT=8000
FASTMCP_INDEXER_PORT=8001

# Optional: customize tool descriptions (uncomment to use)
TOOL_STORE_DESCRIPTION="Store reusable code snippets for later retrieval. The 'information' is a clear NL description; include the actual code in 'metadata.code' and add 'metadata.language' (e.g., python, typescript) and 'metadata.path' when known. Use this whenever you generate or refine a code snippet."
TOOL_FIND_DESCRIPTION="Search for relevant code snippets using multiple phrasings of the query (multi-query). Prefer results where metadata.language matches the target file and metadata.path is relevant. You may pass optional filters (language, path_prefix, kind) which the server applies server-side. Include 'metadata.code', 'metadata.path', and 'metadata.language' in responses."



# Optional: local cross-encoder reranker (ONNX)
# Set these to enable make rerank-local inside the container
RERANKER_ONNX_PATH=/work/models/model_qint8_avx512_vnni.onnx
RERANKER_TOKENIZER_PATH=/work/models/tokenizer.json

# Tree-sitter parsing (enable for more accurate symbols/scopes)
USE_TREE_SITTER=1


# Hybrid/rerank quick-win defaults (can override via flags)
HYBRID_EXPAND=1
HYBRID_PER_PATH=1
HYBRID_SYMBOL_BOOST=0.15
HYBRID_RECENCY_WEIGHT=0.1
RERANK_EXPAND=1

INDEX_SEMANTIC_CHUNKS=1


# Memory integration (SSE + Qdrant)
MEMORY_SSE_ENABLED=true
MEMORY_MCP_URL=http://mcp:8000/sse
MEMORY_MCP_TIMEOUT=6
